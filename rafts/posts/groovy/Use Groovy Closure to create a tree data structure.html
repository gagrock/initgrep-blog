<!doctype html>
<html class="no-js" lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="msvalidate.01" content="028DD45A8309143DDE8DAFDD41945FE6" />
<link rel="shortcut icon" type="image/png" href="/assets/images/favicon.png"/>
<meta name="theme-color" content="#000000">
<title>Use Groovy Closure to create a tree data structure - www.initgrep.com  </title>
<meta itemprop="description" name="description" content="Closure is an open, anonymous, block of code that can take arguments, return a value and be assigned to a variable." />
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Use Groovy Closure to create a tree data structure">
<meta property="og:url" content="http://localhost:4000/posts/groovy/Use%20Groovy%20Closure%20to%20create%20a%20tree%20data%20structure">
<meta property="og:image" content="http://localhost:4000/assets/images/closure.jpg" />
<meta property="og:site_name" content="www.initgrep.com">
<meta property="article:publisher" content="http://www.facebook.com/initgrep" />
<meta property="article:author" content="https://www.facebook.com/irshsheikh" />
<meta property="article:published_time" content="2016-10-31 00:00:00 +0530" />
<meta property="og:description" content="Closure is an open, anonymous, block of code that can take arguments, return a value and be assigned to a variable.">
<link rel="canonical" href="http://localhost:4000/posts/groovy/Use%20Groovy%20Closure%20to%20create%20a%20tree%20data%20structure" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:site" content="@initgrep" />
<meta name="twitter:creator" content="@imshykh">
<meta name="twitter:title" content="Use Groovy Closure to create a tree data structure - www.initgrep.com  ">
<meta name="twitter:description" content="Closure is an open, anonymous, block of code that can take arguments, return a value and be assigned to a variable.">
<meta name="twitter:image" content="http://localhost:4000/assets/images/closure.jpg">

<meta name="google-site-verification" content="" />

<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "BlogPosting",
"headline": "Use Groovy Closure to create a tree data structure - www.initgrep.com  ",
"image": "http://localhost:4000/assets/images/closure.jpg",
"datePublished": "2016-10-31 00:00:00 +0530",
"description": "Closure is an open, anonymous, block of code that can take arguments, return a value and be assigned to a variable.",
"publisher": {"@type": "Organization",
"logo": {"@type": "ImageObject",
"url": "http://localhost:4000/assets/images/closure.jpg",
"url": "http://localhost:4000/posts/groovy/Use%20Groovy%20Closure%20to%20create%20a%20tree%20data%20structure"}
</script>



<!--[if lt IE 9]>
<script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<link href="//fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link type="text/css" rel="stylesheet" href="/assets/css/main.css"  media="screen,projection"/>
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#edeff5",
      "text": "#333"
    },
    "button": {
      "background": "#333333"
    }
  },
  "position": "bottom-right",
  "content": {
    "message": "Hey there, Thank you for visiting by...\n\n\n <b>initgrep.com</b> uses cookies to ensure you get the best experience.",
    "link": "check our privacy policy",
    "href": "https://www.freeprivacypolicy.com/privacy/view/45d4583efa7b94a6561a193611ee4104"
  }
})});
</script>
</head>
<body> 
 <!--- nav content -->   

<div class="navbar-fixed" id="top" >
    <nav class=" white lighten-2 " id ="check_nav" role="navigation" style=" box-shadow: 0 0 1px 0 #DEDADA;">
    <div class="nav-wrapper">

      <a id="logo-container" href="/" 
      class="brand-logo  
black-text

 ">initgrep</a>
      <ul class=" nav_menu right hide-on-med-and-down">
       <li><a class="black-text" id="nav_search"><i class="material-icons">search</i></a></li>
      	<li><a class="pt-sans-bold 
black-text

" href="/about">About</a></li>
         <li><a class=" pt-sans-bold 
black-text

" href="/posts" >Posts<i class="material-icons right">more_vert</i></a></li>

      </ul>

      <!--side menu -->
      <ul id="slide-out" class="side-nav ">
        
        <li>
              <div class="background 

black
">
                  <a href="/"><span class="white-text  pacifo-L">initgrep</span></a>
                  <a id="sidenav_search" class="btn-floating btn-large waves-effect waves-light blue-grey"><i class="material-icons">search</i></a>
              </div> 
        </li>
      <li style="margin-top: 1rem; height: 20px;"></li>
        
         <li>
          <a class=" 
black-text

 " href="/posts/">
            <i class=" material-icons receipt"></i>Posts
          </a>
        </li>
        <li><div class="divider"></div></li>
        <li>
          <a class=" 
black-text

" href="/about">
            <i class=" material-icons android">android</i>About
          </a>
        </li>

      </ul>
      <a href="#" data-activates="slide-out" class=" side_menu button-collapse 
black-text

 show-on-large"><i class="material-icons">sort</i></a>
    </div>
    
  </nav>
</div>


<div class="section ">

  <div class="row ">
    <div class="col l4 s12 m8 xl4 offset-m2 hide-on-med-and-down">
       

<div class="section toc-wrapper">

     
    <h1 class="toc-heading pt-sans-bold"> Table of Contents </h1>
    <dl class="toc">
           
        <dt>
            
            <a class="black-text pt-sans" href="/posts/groovy/Groovy%20-%20simplifying%20SAM%20type%20as%20closures"> Groovy : simplifying SAM type as closures
            </a>
            
        </dt>
             
        <dt>
            
            <a class="teal-text text-darken-3 pt-sans " href="/posts/groovy/Use%20Groovy%20Closure%20to%20create%20a%20tree%20data%20structure">
                Use Groovy Closure to create a tree data structure
            </a>
            
        </dt>
                                                      
    </dl>
</div>

      
    </div>
    <div class="col s12 m8 l8 xl8 offset-m2 ">

      <!-- author -->
      <div class="row" style="margin-bottom: 0px;">
        <div class="col s12 m10 l0 xl12  ">
          <div class="row " style="margin-bottom: 0px;">
            <div class="col s12 m8 l6 xl6 ">
              <div class="row">
                <div class="col s4 m4 l3 xl2  ">
                  








  <img class="user " src="/assets/images/pp.jpeg">





                </div>
                <div class="col s6 m8 l8 xl10  margin-top-1 ">
                  <a href="/about/sheikh irshad" class="grey-text  pt-sans-bold author" style="display: block; text-transform: capitalize;">
                    sheikh irshad
                  </a>
                  <a class="grey-text pt-sans datetime ">October 31, 2016</a>
                </div>
              </div>
            </div>
            <div class="col s12 m4 l6 xl2 hide-on-small-only  ">
              <div class="col s12 m12 l12 right  margin-top-2 ">
                <span class="grey-text right pt-sans-bold readtime">
                  

  4 mins
 read
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- author -->

      <div class="row content" style="padding-top: 0px;">
        <div class="col s12 m12 l10 xl8 ">
          <h2 class="valign post-head center black-text pt-sans-bold">Use Groovy Closure to create a tree data structure</h2>
        </div>
        <div class=" content-text col s12 m12 l10 xl8 "><blockquote>
  <p>As per <a href="http://groovy-lang.org/">Apache groovy Documentation</a>, “Groovy is a powerful, optionally typed and dynamic language, with static-typing and static compilation capabilities, for the Java platform aimed at improving developer productivity thanks to a concise, familiar and easy to learn syntax. It integrates smoothly with any Java program, and immediately delivers to your application powerful features, including scripting capabilities, Domain-Specific Language authoring, runtime and compile-time meta-programming and functional programming.”</p>
</blockquote>

<p>I recently started using Groovy. Part of my job is heavily dependent on creating a tree structure based on a data table with each row having a relationship with other row. i.e <code class="highlighter-rouge">id</code> of one row will be equal to <code class="highlighter-rouge">parent_id</code> of other row.</p>

<p>Groovy has this amazing feature called <code class="highlighter-rouge">closures</code>. As a simple form, <code class="highlighter-rouge">closures</code> look like</p>
<div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kt">def</span> <span class="n">closureName</span> <span class="o">=</span> <span class="o">{</span> <span class="n">param1</span><span class="o">,</span> <span class="n">param2</span> <span class="o">-&gt;</span>
  <span class="n">println</span> <span class="n">param1</span>
  <span class="n">println</span> <span class="n">param2</span>
 <span class="o">}</span>
</code></pre></div></div>
<blockquote>
  <p>As per the documentation, “Closure is an open, anonymous, block of code that can take arguments, return a value and be assigned to a variable. A closure may reference variables declared in its surrounding scope. “
Let’s say, we have a closure nested inside another closure. you can call a top level using <code class="highlighter-rouge">Delegation strategy</code>. <code class="highlighter-rouge">owner</code> corresponds to the enclosing object where the closure is defined, which may be either a class or a closure.</p>
</blockquote>

<p>For example:</p>

<div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">//top level closure -- (1)</span>
<span class="kt">def</span> <span class="n">closureName</span> <span class="o">=</span> <span class="o">{</span> <span class="n">hetorgenousArray</span> <span class="o">-&gt;</span>
      
      <span class="cm">/**java.util.List contains each(Closure closure) method 
      * which takes closure as    parameter
      * this is our inner closure --(2)
      **/</span>
      <span class="n">hetorgenousArray</span><span class="o">.</span><span class="na">each</span><span class="o">{</span> <span class="n">item</span><span class="o">-&gt;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">item</span> <span class="k">instanceof</span> <span class="n">java</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">ArrayList</span><span class="o">){</span>
          <span class="c1">//call the top level closure</span>
          <span class="n">owner</span><span class="o">.</span><span class="na">call</span><span class="o">(</span><span class="n">item</span><span class="o">)</span>
       <span class="o">}</span>
       <span class="k">else</span> <span class="n">println</span> <span class="n">item</span>
      
      <span class="o">}</span>
      
 <span class="o">}</span>
<span class="c1">//heterogenous array.contains Integer and array of integers as its elements</span>
<span class="kt">def</span> <span class="n">heteroArray</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,[</span><span class="mi">11</span><span class="o">,</span><span class="mi">22</span><span class="o">,</span><span class="mi">33</span><span class="o">,[</span><span class="mi">111</span><span class="o">,</span><span class="mi">222</span><span class="o">,</span><span class="mi">333</span><span class="o">]],</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">]</span>

<span class="c1">//call the closure on this array</span>
<span class="n">closureName</span> <span class="n">heteroArray</span>
</code></pre></div></div>

<p>The output of the above code is</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">1
2
11
22
33
111
222
333
4
5


</span></code></pre></div></div>

<p>Referring to the code above, it becomes pretty easy to call a top level enclosing closure <code class="highlighter-rouge">(1)</code> with in a nested inner closure <code class="highlighter-rouge">(2)</code>.</p>

<p>Except <code class="highlighter-rouge">Owner</code>, Groovy closures also contain Other Delegation strategy. you can check <a href="http://groovy-lang.org/closures.html#_delegation_strategy">Offical Groovy Documentation for closure</a> for a detailed explaination.</p>
</div>
      </div>
      <div class="row">
        <div class="col s12 m12 hide-on-large-only">
           

<div class="section toc-bottom-wrapper">

      <!-- | reverse -->
    <h1 class=" pt-sans-bold"> Table of contents - <span>groovy <span></h1>
    <ul class="toc-bottom">
           
        <li>
            
            <a class="black-text pt-sans-bold" href="/posts/groovy/Groovy%20-%20simplifying%20SAM%20type%20as%20closures"> Groovy : simplifying SAM type as closures
            </a>
            
        </li>
             
        <li>
            
            <a class="teal-text text-darken-3 pt-sans-bold " href="/posts/groovy/Use%20Groovy%20Closure%20to%20create%20a%20tree%20data%20structure">
                Use Groovy Closure to create a tree data structure
            </a>
            
        </li>
                                                      
    </ul>
</div>
        </div>
      </div>
      <!-- comments -->
      <div class="row">
        <div class=" col s12 m12 l10"> <div class="content">
<p>Please feel free to pass your feedback in the comments. Thank you for stopping by.</p>

</div>



<div id="disqus_thread"></div>
<script>
var PAGE_URL = "https://www.initgrep.com//posts/groovy/Use%20Groovy%20Closure%20to%20create%20a%20tree%20data%20structure"; 
var PAGE_IDENTIFIER = "/posts/groovy/Use Groovy Closure to create a tree data structure"
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://www-initgrep-com.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>



</div>
      </div>
      <!-- end -->
    </div>

  </div>

 
  <div id="search">
    <div class="section">
       <div class="row">
         <div class="col s12 m12">
          <a class=" close btn-floating waves-effect waves-light btn-small black right ">
              <i class="large material-icons">close</i>
          </a>
         </div>
       </div> 
       <div class="row">
        <div class="input-field col s12 m8 offset-m2">
          <i class="material-icons prefix">search</i>
          <input id="icon_prefix" type="text" class="validate doSearch" >
          <label for="icon_prefix">Search</label>
        </div>
    </div>
  <div class="row  ">
    <div class=" container ">
       <div class="row searchContainer ">
        
      </div>
    </div>

  </div>

   </div> 
</div>

<footer class="page-footer white" id="">
        
    <div class="footer-copyright">
      <div class="container">
       <a class="blue-grey-text " href="/about/sheikh irshad">Made with <i class="material-icons teal-text lighten-4">favorite</i> by me</a>
      </div>
    </div>
  </footer>

 <script type="text/javascript" src="//code.jquery.com/jquery-2.1.1.min.js"></script>
<script type="text/javascript" src="/assets/js/materialize.min.js"></script>
<script type="text/javascript" src="/assets/js/properties.js"></script> 
<script type="text/javascript" src="/assets/js/init.js"></script> 
<script type="text/javascript" src="/assets/js/lunr.min.js"></script> 
<script type="text/javascript" src="/assets/js/data.js"></script>       
<script id="dsq-count-scr" src="//www-initgrep-com.disqus.com/count.js" async></script>




</body>
</html>